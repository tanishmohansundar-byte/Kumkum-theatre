<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kumkum Bank</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #add8e6; /* Light blue */
      margin: 0;
      padding: 0;
      text-align: center;
    }
    .screen {
      display: none;
      padding: 40px;
    }
    .active {
      display: block;
      animation: fadeIn 0.6s ease;
    }
    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    h1, h2 {
      color: #003366;
    }
    button {
      background-color: orange;
      border: none;
      padding: 12px 24px;
      margin: 12px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background-color: darkorange;
    }
    input, select {
      margin: 10px auto;
      padding: 8px;
      font-size: 14px;
      width: 250px;
      border-radius: 6px;
      border: 1px solid #555;
      display: block;
    }
    .seat-grid {
      display: grid;
      grid-template-columns: repeat(8, 40px);
      grid-gap: 8px;
      justify-content: center;
      margin-top: 20px;
    }
    .seat {
      width: 40px;
      height: 40px;
      background: #ccc;
      border-radius: 5px;
      cursor: pointer;
      line-height: 40px;
    }
    .seat.selected {
      background: green;
      color: white;
    }
    .seat.premium {
      background: #9999ff;
    }
    .result-box {
      margin-top: 20px;
      padding: 15px;
      background: #fff;
      border-radius: 10px;
      display: inline-block;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>

  <!-- Welcome -->
  <div id="welcome" class="screen active">
    <h1>Welcome to Kumkum Bank</h1>
    <p>Trusted Partner for Your Financial Needs</p>
    <button onclick="goToScreen('mainMenu')">Continue</button>
  </div>

  <!-- Main Menu -->
  <div id="mainMenu" class="screen">
    <h2>Main Menu</h2>
    <button onclick="goToScreen('accounts')">Accounts</button>
    <button onclick="goToScreen('loans')">Loans</button>
    <button onclick="goToScreen('movies')">Book Movies ðŸŽ¬</button>
    <button onclick="goToScreen('about')">About Us</button>
    <button onclick="goToScreen('contact')">Contact</button>
  </div>

  <!-- Movies -->
  <div id="movies" class="screen">
    <h2>Book Movies at Kumkum Theatre ðŸŽ¬</h2>
    <p>Select a movie:</p>
    <button onclick="chooseMovie('JAI BHIM')">Jai Bhim</button>
    <button onclick="chooseMovie('DETECTIVE')">Detective</button>
    <button onclick="chooseMovie('NAIDUS PADAM')">Naidus Padam</button>
    <button onclick="chooseMovie('ULJADDI')">Uljaddi</button>
    <br><br>
    <button onclick="goToScreen('mainMenu')">Back</button>
    <div id="movieDetails" style="display:none; margin-top:20px;"></div>
  </div>

  <!-- Customers + Date -->
  <div id="customerScreen" class="screen">
    <h2 id="selectedMovieTitle"></h2>
    <label>Select Date:</label>
    <input type="date" id="movieDate" required>
    <label>Number of Customers:</label>
    <input type="number" id="numCustomers" min="1" max="10" required>
    <button onclick="goToSeats()">Proceed to Seat Selection</button>
  </div>

  <!-- Seat Selection -->
  <div id="seatScreen" class="screen">
    <h2>Select Your Seats</h2>
    <div class="seat-grid" id="seatGrid"></div>
    <button onclick="confirmBooking()">Confirm Booking</button>
  </div>

  <!-- Confirmation -->
  <div id="confirmation" class="screen">
    <h2>Booking Confirmed âœ…</h2>
    <div id="ticketDetails" class="result-box"></div>
    <button onclick="goToScreen('mainMenu')">Back to Main Menu</button>
    <button onclick="restartBooking()">Book Again</button>
  </div>

  <script>
    let chosenMovie = "";
    let chosenShow = "";
    let chosenScreen = "";
    let numCustomers = 0;
    let selectedSeats = [];

    function goToScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function chooseMovie(movie) {
      chosenMovie = movie;
      let shows = "";
      if (movie === "ULJADDI") {
        shows = `
          <h3>${movie} - Show Timings</h3>
          <button onclick="selectShow('9:00 AM','Screen 1')">9:00 AM - Screen 1</button>
          <button onclick="selectShow('1:00 PM','Screen 2')">1:00 PM - Screen 2</button>
          <button onclick="selectShow('6:15 PM','Screen 3')">6:15 PM - Screen 3</button>
          <button onclick="selectShow('9:45 PM','Screen 4')">9:45 PM - Screen 4</button>
        `;
      } else {
        shows = `
          <h3>${movie} - Show Timings</h3>
          <button onclick="selectShow('10:00 AM','Screen 1')">10:00 AM - Screen 1</button>
          <button onclick="selectShow('1:15 PM','Screen 2')">1:15 PM - Screen 2</button>
          <button onclick="selectShow('6:00 PM','Screen 3')">6:00 PM - Screen 3</button>
          <button onclick="selectShow('10:20 PM','Screen 4')">10:20 PM - Screen 4</button>
        `;
      }
      document.getElementById('movieDetails').style.display = 'block';
      document.getElementById('movieDetails').innerHTML = shows;
    }

    function selectShow(time, screen) {
      chosenShow = time;
      chosenScreen = screen;
      document.getElementById("selectedMovieTitle").innerText = chosenMovie + " - " + chosenShow + " (" + chosenScreen + ")";
      goToScreen('customerScreen');
    }

    function goToSeats() {
      let date = document.getElementById('movieDate').value;
      numCustomers = parseInt(document.getElementById('numCustomers').value);

      if (!date || !numCustomers) {
        alert("Please select a date and number of customers.");
        return;
      }

      buildSeats();
      goToScreen('seatScreen');
    }

    function buildSeats() {
      const seatGrid = document.getElementById('seatGrid');
      seatGrid.innerHTML = "";
      selectedSeats = [];

      for (let r = 1; r <= 6; r++) {
        for (let c = 1; c <= 8; c++) {
          let seat = document.createElement("div");
          seat.classList.add("seat");
          seat.innerText = r + "" + c;
          if (r <= 2) seat.classList.add("premium");
          seat.onclick = () => toggleSeat(seat, r, c);
          seatGrid.appendChild(seat);
        }
      }
    }

    function toggleSeat(seat, r, c) {
      if (seat.classList.contains("selected")) {
        seat.classList.remove("selected");
        selectedSeats = selectedSeats.filter(s => s !== seat.innerText);
      } else {
        if (selectedSeats.length >= numCustomers) {
          alert("You can only select " + numCustomers + " seats.");
          return;
        }
        seat.classList.add("selected");
        selectedSeats.push(seat.innerText);
      }
    }

    function confirmBooking() {
      if (selectedSeats.length !== numCustomers) {
        alert("Please select " + numCustomers + " seats.");
        return;
      }

      let total = 0;
      selectedSeats.forEach(seat => {
        let row = parseInt(seat[0]);
        total += (row <= 2) ? 350 : 200;
      });

      document.getElementById("ticketDetails").innerHTML = `
        <h3>${chosenMovie}</h3>
        <p><b>Date:</b> ${document.getElementById('movieDate').value}</p>
        <p><b>Show:</b> ${chosenShow} (${chosenScreen})</p>
        <p><b>Seats:</b> ${selectedSeats.join(", ")}</p>
        <p><b>Tickets:</b> ${numCustomers}</p>
        <p><b>Total Price:</b> â‚¹${total}</p>
      `;
      goToScreen('confirmation');
    }

    function restartBooking() {
      chosenMovie = "";
      chosenShow = "";
      chosenScreen = "";
      numCustomers = 0;
      selectedSeats = [];
      goToScreen('movies');
    }
  </script>

</body>
</html>
