<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kumkum Theatre</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fff8dc; /* faint yellow */
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    .screen {
      display: none;
      text-align: center;
      padding: 40px;
    }
    .active {
      display: block;
      animation: fadeIn 0.6s ease-in-out;
    }
    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    h1, h2 {
      color: #333;
    }
    button {
      margin: 10px;
      padding: 12px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background-color: #ffcc00;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background-color: #ffaa00;
    }
    input {
      margin: 8px;
      padding: 10px;
      font-size: 15px;
      border-radius: 6px;
      border: 1px solid #aaa;
    }
    .seats {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 6px;
      justify-items: center;
      margin: 20px auto;
      max-width: 600px;
    }
    .seat {
      width: 40px;
      height: 40px;
      background: #ddd;
      border-radius: 6px;
      cursor: pointer;
    }
    .seat.selected {
      background: #ff6600;
    }
    .seat.recliner {
      background: #b19cd9;
    }
    .summary {
      font-size: 18px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <!-- Screen 1 -->
  <div id="screen1" class="screen active">
    <h1>Welcome to Kumkum Theatre</h1>
    <button onclick="goToScreen('screen2')">Continue</button>
  </div>

  <!-- Screen 2: Choose Director -->
  <div id="screen2" class="screen">
    <h2>Choose Director</h2>
    <div id="directors"></div>
  </div>

  <!-- Screen 3: Choose Movie -->
  <div id="screen3" class="screen">
    <h2>Select a Movie</h2>
    <div id="movies"></div>
  </div>

  <!-- Screen 4: Timings -->
  <div id="screen4" class="screen">
    <h2>Select Timing</h2>
    <div id="timings"></div>
  </div>

  <!-- Screen 5: Screens -->
  <div id="screen5" class="screen">
    <h2>Select Screen</h2>
    <button onclick="selectScreen('LUXE')">LUXE</button>
    <button onclick="selectScreen('IMAX')">IMAX</button>
    <button onclick="selectScreen('3D')">3D</button>
    <button onclick="selectScreen('4DX')">4DX</button>
    <button onclick="selectScreen('ICE')">ICE</button>
  </div>

  <!-- Screen 6: Seats -->
  <div id="screen6" class="screen">
    <h2>Select Number of People</h2>
    <input type="number" id="numPeople" min="1" max="10" placeholder="Enter number of tickets">
    <button onclick="confirmNumPeople()">Proceed</button>
  </div>

  <div id="screen7" class="screen">
    <h2>Select Seats</h2>
    <div class="seats" id="seatGrid"></div>
    <button onclick="finishSeatSelection()">Confirm Seats</button>
  </div>

  <!-- Screen 8: Details -->
  <div id="screen8" class="screen">
    <h2>Enter Your Details</h2>
    <input type="text" id="name" placeholder="Name"><br>
    <input type="text" id="phone" placeholder="Phone"><br>
    <input type="email" id="email" placeholder="Email"><br>
    <input type="text" id="card" placeholder="Credit Card Number"><br>
    <button onclick="goToScreen('screen9')">Continue</button>
  </div>

  <!-- Screen 9: Beverages -->
  <div id="screen9" class="screen">
    <h2>Do you want Beverages?</h2>
    <button onclick="chooseBeverages(true)">Yes</button>
    <button onclick="chooseBeverages(false)">No</button>
  </div>

  <div id="screen10" class="screen">
    <h2>Select Beverages</h2>
    <div>
      <label><input type="checkbox" value="Popcorn"> Popcorn (100)</label><br>
      <label><input type="checkbox" value="Coca Cola"> Coca Cola (80)</label><br>
      <label><input type="checkbox" value="Pepsi"> Pepsi (80)</label><br>
      <label><input type="checkbox" value="French Fries"> French Fries (120)</label><br>
      <label><input type="checkbox" value="Nachos"> Nachos (150)</label><br>
      <label><input type="checkbox" value="Magnum Ice Cream"> Magnum Ice Cream (200)</label><br>
    </div>
    <button onclick="finalizeBooking()">Continue</button>
  </div>

  <!-- Screen 11: Confirmation -->
  <div id="screen11" class="screen">
    <h2>Confirmation</h2>
    <div class="summary" id="summary"></div>
  </div>

  <script>
    const directors = {
      "KUTE": ["MARUTHUVAR", "HIT", "DOOR", "DOOR2", "SPY"],
      "GA": ["BISTER", "THOZHAM", "HOSPA", "AIM", "ONE LIFE"],
      "SORUS": ["HARBOUR","AUTOKARAN","USPA","USPA 2","USPA 3","USPA 4","HOSARANGA","HOSARANGA2","HOSARANGA 3","MIXED EMOTIONS","JOHNSON DUCKNAIL","MAGADI"],
      "TANISH": ["MUJAHIDEEN","MUJAHIDEEN2","MUJAHIDEEN3"],
      "POPE": ["THALAIVA","ALLA RETURNS"],
      "MINE": ["FERNANDEZ","VANAKKAM MADURAI"],
      "DUTE": ["DEVIL"]
    };

    const movieTimings = {
      "MARUTHUVAR": ["12:00 PM","4:00 PM","9:00 PM"],
      "HIT": ["1:00 PM","7:00 PM"],
      "DOOR": ["11:00 AM","5:00 PM"],
      "DOOR2": ["3:00 PM","10:00 PM"],
      "SPY": ["2:00 PM","8:00 PM"],

      "BISTER": ["10:00 AM","6:00 PM"],
      "THOZHAM": ["12:30 PM","9:30 PM"],
      "HOSPA": ["2:30 PM","7:00 PM"],
      "AIM": ["1:00 PM","5:30 PM"],
      "ONE LIFE": ["11:30 AM","8:00 PM"],

      "HARBOUR": ["12:00 PM","6:00 PM"],
      "AUTOKARAN": ["1:30 PM","9:30 PM"],
      "USPA": ["3:00 PM"],
      "USPA 2": ["10:00 AM","4:00 PM"],
      "USPA 3": ["11:00 AM","8:30 PM"],
      "USPA 4": ["2:00 PM","10:00 PM"],
      "HOSARANGA": ["12:00 PM","6:00 PM"],
      "HOSARANGA2": ["1:00 PM","7:00 PM"],
      "HOSARANGA 3": ["5:00 PM"],
      "MIXED EMOTIONS": ["9:00 PM"],
      "JOHNSON DUCKNAIL": ["4:30 PM","10:30 PM"],
      "MAGADI": ["11:00 AM","9:00 PM"],

      "MUJAHIDEEN": ["12:00 PM"],
      "MUJAHIDEEN2": ["2:30 PM","8:30 PM"],
      "MUJAHIDEEN3": ["5:00 PM"],

      "THALAIVA": ["6:00 PM","10:00 PM"],
      "ALLA RETURNS": ["11:00 AM","7:00 PM"],

      "FERNANDEZ": ["3:00 PM"],
      "VANAKKAM MADURAI": ["1:00 PM","9:00 PM"],

      "DEVIL": ["4:00 PM","10:00 PM"]
    };

    let booking = {
      director: "",
      movie: "",
      timing: "",
      screenType: "",
      seats: [],
      numPeople: 0,
      name: "",
      price: 0,
      beverages: []
    };

    // Screen navigation
    function goToScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    // Load directors
    window.onload = function() {
      let div = document.getElementById('directors');
      for (let d in directors) {
        let btn = document.createElement('button');
        btn.innerText = d;
        btn.onclick = () => selectDirector(d);
        div.appendChild(btn);
      }
    };

    function selectDirector(d) {
      booking.director = d;
      let div = document.getElementById('movies');
      div.innerHTML = "";
      directors[d].forEach(m => {
        let btn = document.createElement('button');
        btn.innerText = m;
        btn.onclick = () => selectMovie(m);
        div.appendChild(btn);
      });
      goToScreen('screen3');
    }

    function selectMovie(m) {
      booking.movie = m;
      let div = document.getElementById('timings');
      div.innerHTML = "";
      (movieTimings[m] || ["12:00 PM"]).forEach(t => {
        let btn = document.createElement('button');
        btn.innerText = t;
        btn.onclick = () => selectTiming(t);
        div.appendChild(btn);
      });
      goToScreen('screen4');
    }

    function selectTiming(t) {
      booking.timing = t;
      goToScreen('screen5');
    }

    function selectScreen(s) {
      booking.screenType = s;
      goToScreen('screen6');
    }

    function confirmNumPeople() {
      booking.numPeople = parseInt(document.getElementById('numPeople').value);
      if (!booking.numPeople || booking.numPeople < 1) {
        alert("Enter valid number of people");
        return;
      }
      renderSeats();
      goToScreen('screen7');
    }

    function renderSeats() {
      let grid = document.getElementById('seatGrid');
      grid.innerHTML = "";
      for (let i = 1; i <= 50; i++) {
        let seat = document.createElement('div');
        seat.classList.add('seat');
        if (i > 40) seat.classList.add('recliner'); // last row recliner
        seat.innerText = i;
        seat.onclick = () => toggleSeat(seat, i);
        grid.appendChild(seat);
      }
    }

    function toggleSeat(seat, i) {
      if (seat.classList.contains('selected')) {
        seat.classList.remove('selected');
        booking.seats = booking.seats.filter(s => s !== i);
      } else {
        if (booking.seats.length >= booking.numPeople) {
          alert("You can only select " + booking.numPeople + " seats");
          return;
        }
        seat.classList.add('selected');
        booking.seats.push(i);
      }
    }

    function finishSeatSelection() {
      if (booking.seats.length !== booking.numPeople) {
        alert("Select all seats");
        return;
      }
      goToScreen('screen8');
    }

    function chooseBeverages(yes) {
      if (yes) goToScreen('screen10');
      else finalizeBooking();
    }

    function finalizeBooking() {
      booking.name = document.getElementById('name').value;
      let price = 200; // base
      if (booking.director === "TANISH" && ["SPY","AIM","MAGADI"].includes(booking.movie)) {
        price = 300;
      }
      // Recliner + last row more expensive
      booking.seats.forEach(s => {
        if (s > 40) price += 100;
      });
      // Screen premium
      if (["LUXE","IMAX","3D","4DX","ICE"].includes(booking.screenType)) {
        price += 370;
      }
      // Beverages
      let selected = [];
      document.querySelectorAll('#screen10 input:checked').forEach(b => {
        selected.push(b.value);
        if (b.value === "Popcorn") price += 100;
        if (b.value === "Coca Cola" || b.value === "Pepsi") price += 80;
        if (b.value === "French Fries") price += 120;
        if (b.value === "Nachos") price += 150;
        if (b.value === "Magnum Ice Cream") price += 200;
      });
      booking.beverages = selected;
      booking.price = price * booking.numPeople;

      document.getElementById('summary').innerHTML = `
        <p><b>Name:</b> ${booking.name}</p>
        <p><b>Director:</b> ${booking.director}</p>
        <p><b>Movie:</b> ${booking.movie}</p>
        <p><b>Timing:</b> ${booking.timing}</p>
        <p><b>Screen:</b> ${booking.screenType}</p>
        <p><b>Seats:</b> ${booking.seats.join(", ")}</p>
        <p><b>Beverages:</b> ${booking.beverages.join(", ") || "None"}</p>
        <p><b>Total Price:</b> ${booking.price} lators</p>
      `;
      goToScreen('screen11');
    }
  </script>
</body>
</html>
